Где-то в параллельной вселенной всё асинхронное, даже массивы...
Внутри асинхронного массива может храниться либо число, либо другой асинхронный массив, а взаимодействие происходит через два метода:

 
type Elem = AsyncArray | number;  
 
type AsyncArray = {  
  // получить элемент по индексу  
  read(index: number, callback: (elem: Elem) => void): void;  
 
  // Получить количество элементов в массиве  
  size(callback: (size: number) => void): void;  
}  
Напишите функцию, которая сделает из вложенного асинхронного массива простой плоский массив и сохранит порядок элементов

Формат ввода
Объект AsyncArray:

 
AsyncArray([  
    8,  
    AsyncArray([  
        15,  
        16,  
    ]),  
    AsyncArray([  
        AsyncArray([  
            AsyncArray([  
                42,  
                AsyncArray([  
                    AsyncArray([]),  
                    23,  
                ]),  
            ]),  
        ]),  
        4,  
    ]),  
])
Формат вывода
Массив чисел:

 
[8, 15, 16, 42, 23, 4]
Примечания
Решение должно работать на ES 2019 (Node 12) и его требуется оформить по шаблону:

 
module.exports = async function (input) {  
    // основная функция  
 
    return answer;  
}  
 
// вспомогательные функции
